let questions = [];
let currentQuestionIndex = 0;

// Fetch questions from the JSON file
async function loadQuestions() {
    try {
        const response = await fetch("questions.json"); // Ensure this matches the path
        questions = await response.json();
        displayQuestion();
    } catch (error) {
        console.error("Error loading questions:", error);
        document.getElementById("question").textContent = "Failed to load questions.";
    }
}

// Display a question
function displayQuestion() {
    if (questions.length === 0) {
        document.getElementById("question").textContent = "No questions available.";
        return;
    }
    const currentQuestion = questions[currentQuestionIndex];
    document.getElementById("question").textContent = currentQuestion.question;
    const choicesDiv = document.getElementById("choices");
    choicesDiv.innerHTML = ""; // Clear previous choices
    currentQuestion.choices.forEach(choice => {
        const button = document.createElement("button");
        button.textContent = choice;
        button.className = "choice";
        button.onclick = () => checkAnswer(choice, currentQuestion.answer);
        choicesDiv.appendChild(button);
    });
}

// Check the user's answer
function checkAnswer(selected, correct) {
    alert(selected === correct ? "Correct!" : "Wrong!");
    currentQuestionIndex = (currentQuestionIndex + 1) % questions.length; // Loop back to start
    displayQuestion();
}

// Load questions on page load
document.addEventListener("DOMContentLoaded", loadQuestions);


